<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collecting Data</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <style>
        body {
            margin: 50px auto;
            max-width: 50%;
            min-width: 300px;
        }

        .card {
            margin-top: 20px;
        }
    </style>
</head>

<body class="container">
    <h2 class="text-primary">Hey There, Help Us In Collecting Data</h2>

    <form class="container" id="contactForm">
        <div class="card">
            <div class="card-body">
                <div class="form-group">
                    <label for="name">Enter Your Name</label>
                    <input type="text" class="form-control" id="name" placeholder="Your name...">
                </div>

                <div class="form-group">
                    <label for="email">Private Message</label>
                    <input type="text" class="form-control" id="email" placeholder="Your message...">
                </div>
            </div>
            <button type="submit" class="btn btn-primary ml-3 mt-3">Submit</button>
        </div>
    </form>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.7.4/firebase.js"></script>

    <script>
        var firebaseConfig = {
              apiKey: "AIzaSyBEtXBiFXnk3jPmb6wdfW4SOvMXJQIjCzg",
    authDomain: "saraha-5e7fd.firebaseapp.com",
    databaseURL: "https://saraha-5e7fd-default-rtdb.firebaseio.com/",
    projectId: "saraha-5e7fd",
    storageBucket: "saraha-5e7fd.appspot.com",
    messagingSenderId: "942089850758",
    appId: "1:942089850758:web:bc767461bc426a904e2607"
        };

        firebase.initializeApp(firebaseConfig);

        var messagesRef = firebase.database().ref('collectedData');

        document.getElementById('contactForm').addEventListener('submit', submitForm);

        function submitForm(e) {
            e.preventDefault();

            var name = getInputVal('name');
            var email = getInputVal('email');

            saveMessage(name, email);
            document.getElementById('contactForm').reset();
        }

        function getInputVal(id) {
            return document.getElementById(id).value;
        }

        function saveMessage(name, email) {
            var newMessageRef = messagesRef.push();
            newMessageRef.set({
                name: name,
                email: email,
            });
        }
    </script>
</body>

</html>
